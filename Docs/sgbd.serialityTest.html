<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module sgbd.serialityTest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="sgbd.html"><font color="#ffffff">sgbd</font></a>.serialityTest</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/luiseduardoboikoferreira/Documents/trabalhoSGBD/sgbd/serialityTest.py">/Users/luiseduardoboikoferreira/Documents/trabalhoSGBD/sgbd/serialityTest.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="sgbd.makeJournal.html">sgbd.makeJournal</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="sgbd.serialityTest.html#SerialityTest">SerialityTest</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="SerialityTest">class <strong>SerialityTest</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Esta&nbsp;classe&nbsp;é&nbsp;responsável&nbsp;por&nbsp;executar&nbsp;os&nbsp;testes&nbsp;de&nbsp;seriabilidade&nbsp;em&nbsp;um&nbsp;pacote&nbsp;de&nbsp;transações<br>
e&nbsp;interage&nbsp;com&nbsp;a&nbsp;classe&nbsp;'MakeJournal'<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="SerialityTest-__init__"><strong>__init__</strong></a>(self, batchOfTransactions, idsInBlock, dictVariableValues, currentIndex=0)</dt><dd><tt>Construtor&nbsp;de&nbsp;um&nbsp;novo&nbsp;objeto&nbsp;'<a href="#SerialityTest">SerialityTest</a>'<br>
&nbsp;<br>
:batchOfTransactions:&nbsp;Batch&nbsp;de&nbsp;transações&nbsp;para&nbsp;testar&nbsp;conflito&nbsp;de&nbsp;seriabilidade.<br>
:idsInBlock:&nbsp;Identificadores&nbsp;das&nbsp;transações&nbsp;no&nbsp;bloco.<br>
:dictPossibleAttr:&nbsp;Um&nbsp;dicionário&nbsp;com&nbsp;os&nbsp;atributos&nbsp;ativos&nbsp;no&nbsp;bloco&nbsp;e&nbsp;seu&nbsp;respectivo&nbsp;valor.<br>
:currentIndex:&nbsp;Indice&nbsp;inicial&nbsp;para&nbsp;os&nbsp;registros&nbsp;de&nbsp;log.&nbsp;Caso&nbsp;não&nbsp;seja&nbsp;inicializado&nbsp;o&nbsp;valor&nbsp;default&nbsp;0&nbsp;é&nbsp;utilizado.</tt></dd></dl>

<dl><dt><a name="SerialityTest-checkConditions"><strong>checkConditions</strong></a>(self)</dt><dd><tt>Esta&nbsp;função&nbsp;é&nbsp;chamada&nbsp;externamente&nbsp;para&nbsp;gerar&nbsp;os&nbsp;registros&nbsp;de&nbsp;log.&nbsp;<br>
Ao&nbsp;final,&nbsp;o&nbsp;currentIndex&nbsp;é&nbsp;atualizado.</tt></dd></dl>

<dl><dt><a name="SerialityTest-createEmptyGraph"><strong>createEmptyGraph</strong></a>(self)</dt><dd><tt>Esta&nbsp;função&nbsp;cria&nbsp;um&nbsp;grafo&nbsp;vazio,&nbsp;como&nbsp;o&nbsp;exemplo&nbsp;a&nbsp;seguir:<br>
&nbsp;<br>
graph&nbsp;=&nbsp;{&nbsp;1&nbsp;:&nbsp;[],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;:&nbsp;[],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;:&nbsp;[]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;<br>
O&nbsp;grafo&nbsp;é&nbsp;construido&nbsp;no&nbsp;formato&nbsp;de&nbsp;um&nbsp;dicionário,&nbsp;de&nbsp;acordo&nbsp;com&nbsp;<br>
os&nbsp;ID'S&nbsp;presentes&nbsp;na&nbsp;lista&nbsp;idsInBloc.<br>
&nbsp;<br>
Ao&nbsp;final,&nbsp;a&nbsp;função&nbsp;retorna&nbsp;o&nbsp;grafo.</tt></dd></dl>

<dl><dt><a name="SerialityTest-cycle_exists"><strong>cycle_exists</strong></a>(self, G)</dt><dd><tt>Esta&nbsp;função&nbsp;recebe&nbsp;o&nbsp;seguinte&nbsp;parâmetro:<br>
&nbsp;<br>
:G:&nbsp;Grafo&nbsp;direcional&nbsp;na&nbsp;forma&nbsp;de&nbsp;um&nbsp;dicionário<br>
&nbsp;<br>
A&nbsp;função&nbsp;inicia&nbsp;setando&nbsp;todos&nbsp;os&nbsp;nodos&nbsp;do&nbsp;grafo&nbsp;para&nbsp;a&nbsp;cor&nbsp;"white".<br>
Após,&nbsp;criamos&nbsp;o&nbsp;atributo&nbsp;found_cycle&nbsp;em&nbsp;um&nbsp;formato&nbsp;de&nbsp;lista,&nbsp;para&nbsp;que&nbsp;possa<br>
ser&nbsp;passado&nbsp;por&nbsp;referência.<br>
&nbsp;<br>
Após&nbsp;a&nbsp;função&nbsp;dfs_visit&nbsp;é&nbsp;chamada&nbsp;para&nbsp;cada&nbsp;um&nbsp;for&nbsp;nodos&nbsp;presentes&nbsp;no&nbsp;grafo<br>
que&nbsp;possuírem&nbsp;cor&nbsp;"white".<br>
&nbsp;<br>
Ao&nbsp;final,&nbsp;a&nbsp;função&nbsp;retorna&nbsp;True&nbsp;caso&nbsp;tenha&nbsp;encontrado&nbsp;ciclo&nbsp;no&nbsp;grafo&nbsp;ou&nbsp;False&nbsp;caso&nbsp;contrário</tt></dd></dl>

<dl><dt><a name="SerialityTest-dfs_visit"><strong>dfs_visit</strong></a>(self, G, u, color, found_cycle)</dt><dd><tt>Esta&nbsp;função&nbsp;recebe&nbsp;os&nbsp;seguintes&nbsp;parâmetros:<br>
&nbsp;<br>
:G:&nbsp;Grafo&nbsp;direcional&nbsp;na&nbsp;forma&nbsp;de&nbsp;um&nbsp;dicionário<br>
:u:&nbsp;inteiro&nbsp;referente&nbsp;ao&nbsp;vértice&nbsp;a&nbsp;ser&nbsp;analisado<br>
:color:&nbsp;string&nbsp;referente&nbsp;a&nbsp;cor&nbsp;("white",&nbsp;"gray",&nbsp;"black")<br>
:found_cycle:&nbsp;Lista&nbsp;recebida&nbsp;por&nbsp;referência&nbsp;contendo&nbsp;apenas&nbsp;uma&nbsp;posição&nbsp;com&nbsp;um&nbsp;valor&nbsp;Bool<br>
&nbsp;<br>
A&nbsp;função&nbsp;inicia&nbsp;verificando&nbsp;se&nbsp;existe&nbsp;ciclo.&nbsp;Caso&nbsp;exista,&nbsp;ela&nbsp;para.<br>
&nbsp;<br>
Após&nbsp;é&nbsp;setado&nbsp;o&nbsp;vértice&nbsp;para&nbsp;a&nbsp;cor&nbsp;"gray"&nbsp;(visitado)&nbsp;e&nbsp;procura&nbsp;os&nbsp;vizinhos&nbsp;aonde&nbsp;G[u]&nbsp;é&nbsp;a&nbsp;<br>
lista&nbsp;de&nbsp;adjacencias&nbsp;de&nbsp;u.&nbsp;Em&nbsp;seguida,&nbsp;é&nbsp;verificado&nbsp;se&nbsp;existe&nbsp;um&nbsp;loop&nbsp;(cor&nbsp;"gray")&nbsp;iniciado&nbsp;pelo&nbsp;vértice&nbsp;analisado,<br>
setando&nbsp;a&nbsp;variavel&nbsp;found_cycle&nbsp;para&nbsp;True&nbsp;caso&nbsp;exista.&nbsp;Caso&nbsp;o&nbsp;vértice&nbsp;seja&nbsp;da&nbsp;cor&nbsp;"white",&nbsp;ou&nbsp;seja,&nbsp;ainda<br>
nao&nbsp;foi&nbsp;visitado,&nbsp;a&nbsp;função&nbsp;dfs_visit&nbsp;é&nbsp;chamada&nbsp;recursivamente.<br>
&nbsp;<br>
Ao&nbsp;final,&nbsp;o&nbsp;vértice&nbsp;analisado&nbsp;é&nbsp;setado&nbsp;para&nbsp;a&nbsp;cor&nbsp;"black",&nbsp;para&nbsp;que&nbsp;não&nbsp;seja&nbsp;mais&nbsp;utilizado&nbsp;para&nbsp;busca.</tt></dd></dl>

<dl><dt><a name="SerialityTest-searchOperations"><strong>searchOperations</strong></a>(self)</dt><dd><tt>Esta&nbsp;função&nbsp;cria&nbsp;um&nbsp;grafo&nbsp;no&nbsp;formato&nbsp;de&nbsp;um&nbsp;dicionário,&nbsp;como&nbsp;o&nbsp;exemplo:<br>
&nbsp;<br>
graph&nbsp;=&nbsp;{&nbsp;1&nbsp;:&nbsp;[],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;:&nbsp;[],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;:&nbsp;[]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;<br>
e&nbsp;chama&nbsp;a&nbsp;função&nbsp;searchOperations&nbsp;para&nbsp;criar&nbsp;arestas&nbsp;de&nbsp;acordo&nbsp;com&nbsp;os&nbsp;seguintes&nbsp;critérios<br>
do&nbsp;teste&nbsp;de&nbsp;seriabilidade&nbsp;por&nbsp;conflito:<br>
&nbsp;<br>
Aresta&nbsp;Ti&nbsp;-&gt;&nbsp;Tj&nbsp;para&nbsp;cada&nbsp;r(x)&nbsp;em&nbsp;Tj&nbsp;depois&nbsp;de&nbsp;w(x)&nbsp;em&nbsp;Ti&nbsp;<br>
Aresta&nbsp;Ti&nbsp;-&gt;&nbsp;Tj&nbsp;para&nbsp;cada&nbsp;w(x)&nbsp;em&nbsp;Tj&nbsp;depois&nbsp;de&nbsp;r(x)&nbsp;em&nbsp;Ti<br>
Aresta&nbsp;Ti&nbsp;-&gt;&nbsp;Tj&nbsp;para&nbsp;cada&nbsp;w(x)&nbsp;em&nbsp;Tj&nbsp;depois&nbsp;de&nbsp;w(x)&nbsp;em&nbsp;Ti<br>
&nbsp;<br>
ao&nbsp;final&nbsp;é&nbsp;retornado&nbsp;um&nbsp;grafo&nbsp;como&nbsp;o&nbsp;exemplo&nbsp;a&nbsp;seguir<br>
&nbsp;<br>
graph&nbsp;=&nbsp;{&nbsp;1&nbsp;:&nbsp;[2],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;:&nbsp;[1],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;:&nbsp;[1,&nbsp;2]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table>
</body></html>